{% extends "base.html" %}

{% block title %}Morse Code to Text Converter{% endblock %}

{% block form_action %}{{ url_for('convert_morse_to_text') }}{% endblock %}

{% block placeholder %}Enter morse code (use · for dots, − for dashes, / for spaces){% endblock %}

{% block pattern %}[·−\/\s]*{% endblock %}

{% block validation_message %}Please enter only dots (·), dashes (−), spaces, and forward slashes (/){% endblock %}

{% block button_class %}btn-warning{% endblock %}

{% block result %}
{% if result %}
<div class="alert alert-warning mt-4 border-3"
    style="border-color: #ffc107 !important; background-color: rgba(255, 193, 7, 0.1);">
    <h4 class="text-warning mb-3">
        <i class="fas fa-comments me-2">Decoded Text:</i>
    </h4>
    <p id="result-text" class="fs-4 text-break fw-bold text-warning">{{ result }}</p>
    <button onclick="copyResult()" class="btn btn-outline-warning btn-sm mt-2">
        <i class="fas fa-copy me-1"></i>Copy
    </button>
</div>
<script>
    function copyResult() {
        const resultText = document.getElementById('result-text').innerText;
        navigator.clipboard.writeText(resultText).then(() => {
            const btn = event.target.closest('button');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check me-1"></i>Copied!';
            setTimeout(() => {
                btn.innerHTML = originalText;
            }, 2000);
        });
    }
</script>
{% endif %}
{% endblock %}